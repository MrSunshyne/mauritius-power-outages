[build]
  command = "pnpm build"
  publish = "dist"

# Cache static assets aggressively
[[headers]]
  for = "/_nuxt/*"
    [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# Static assets
[[headers]]
  for = "/assets/*"
    [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# OG Images - Cache for social media crawlers (24 hours)
[[headers]]
  for = "/__og-image__/*"
    [headers.values]
    Cache-Control = "public, max-age=86400, s-maxage=86400"
    Access-Control-Allow-Origin = "*"

# Default cache for other static files
[[headers]]
  for = "/*"
    [headers.values]
    Cache-Control = "public, max-age=300, must-revalidate"
